"use client";
var e=require("react/jsx-runtime"),t=require("react"),n=require("react-dom");const r=Math.min,o=Math.max,i=Math.abs,s=Object.values,l=Array.isArray,c=setTimeout,u=(e,t,n)=>r(n,o(t,e)),a=e=>null!=e,h="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},d=e=>{let t,n;return(...r)=>(t||(t=!0,n=e(...r)),n)},f=-1,_=(e,t,n)=>{const r=n?"unshift":"push";for(let n=0;n<t;n++)e[r](f);return e},g=(e,t)=>{const n=e.t[t];return n===f?e.o:n},v=(e,t)=>{if(!e.i)return 0;if(e.l>=t)return e.u[t];e.l<0&&(e.u[0]=0,e.l=0);let n=e.l,r=e.u[n];for(;n<t;)r+=g(e,n),e.u[++n]=r;return e.l=t,r},p=(e,t,n)=>{let r=v(e,n);for(;n>=0&&n<e.i;)if(r<=t){const o=g(e,n);if(r+o>t)break;r+=o,n++}else r-=g(e,--n);return u(n,0,e.i-1)},w=(e,t,n,o)=>{const i=p(e,t,r(n,e.i-1));return[i,p(e,t+o,i)]},m=(e,t,n)=>{const o=t-e.i,i=o>0;let s;return i?(s=e.o*o,_(e.t,o,n),_(e.u,o)):(s=(n?e.t.splice(0,-o):e.t.splice(o)).reduce(((t,n)=>t+(n===f?e.o:n)),0),e.u.splice(o)),e.l=n?-1:r(t-1,e.l),e.i=t,[s,i]},S="undefined"!=typeof window,b=()=>document.documentElement,y=e=>e.ownerDocument,x=e=>e.defaultView,z=/*#__PURE__*/d((()=>!!S&&"rtl"===getComputedStyle(b()).direction)),I=/*#__PURE__*/d((()=>/iP(hone|od|ad)/.test(navigator.userAgent))),R=/*#__PURE__*/d((()=>"scrollBehavior"in b().style)),k=e=>o(e.h(),e._()),C=(e,t,n)=>o(e-(1===n?1:o(1,t)),0),M=(e,t,n,i)=>r(e+(2===n?1:o(1,t)),i-1),T=(e,t,n)=>t.reduce(((t,[r,o])=>{const i=o-g(e,r);return(!n||i>0)&&(t+=i),t}),0),O=(e,t=40,n=0,s,l,c=0,a=0)=>{let h=!!n,d=[],p=0,S=0,b=0,y=0,x=0,z=!1,R=0,k=0,C=0,M=h?[0,o(n-1,0)]:null,O=[0,0];const E=s||((e,t)=>({o:t,i:e,l:-1,t:_([],e),u:_([],e)}))(e,t),H=new Set,J=()=>(e=>e.i?v(e,e.i-1)+g(e,e.i-1):0)(E),W=()=>J()+c+a,q=()=>o(0,W()-p),B=e=>{I()&&0!==k?x+=e:(y+=e,b++)};return{v:()=>d,p:()=>JSON.parse(JSON.stringify(E)),m:()=>M?[r(O[0],M[0]),o(O[1],M[1])]:R?O:O=w(E,S-c+x+y,O[0],p),S:e=>E.t[e]===f,I:()=>!!M&&E.t.slice(o(0,M[0]-1),r(E.i-1,M[1]+1)+1).includes(f),R:e=>v(E,e)-x,k:e=>g(E,e),C:()=>E.i,M:()=>S,T:()=>k,_:()=>p,O:()=>c,h:J,H:()=>b,J(){const e=y,t=z;return y=0,z=!1,p>W()?[0,!1]:[R=e,t]},W(e,t){const n=[e,t];return H.add(n),()=>{H.delete(n)}},q(e,t){let n,o,s=0;switch(e){case 1:{const e=t.filter((([e,t])=>E.t[e]!==t));if(!e.length)break;let n=0;if(0===S);else if(S>q()-1.5)n=T(E,e,!0);else if(2===C)n=T(E,e);else{const[t]=O;n=T(E,e.filter((([e])=>e<t)))}n&&B(n);let i=!1;e.forEach((([e,t])=>{((e,t,n)=>{const o=e.t[t]===f;return e.t[t]=n,e.l=r(t,e.l),o})(E,e,t)&&(i=!0)})),l&&i&&!S&&(e=>{const t=e.t.filter((e=>e!==f)),n=t[0];e.o=t.every((e=>e===n))?n:(e=>{const t=[...e].sort(((e,t)=>e-t)),n=e.length/2|0;return t.length%2==0?(t[n-1]+t[n])/2:t[n]})(t)})(E),s=2,o=!0;break}case 2:p!==t&&(p=t,s=2);break;case 3:if(t[1]){const e=q()-S,[n,o]=m(E,t[0],!0);B(o?n:-r(n,e)),o&&(C=2,z=!0),s=1}else m(E,t[0]);break;case 4:{const e=u(t,0,q()),n=R;if(R=0,e===S)break;const r=e-S,l=i(r);n&&l<i(n)+1||0!==C||(k=r<0?2:1),h&&(M=null,h=!1),o=l>p,S=e,s=5;break}case 5:s=8,0!==k&&(n=!0,s+=1),k=0,C=0,M=null;break;case 6:C=1;break;case 7:M=w(E,t,O[0],p),s=1}s&&(d=[],n&&x&&(y+=x,x=0,b++),H.forEach((([e,t])=>{s&e&&t(o)})))}}},E=S?t.useLayoutEffect:t.useEffect,H=(e,t)=>t&&z()?-e:e,J=(e,t,n,r,o)=>{const i=Date.now;let s=0,l=!1,u=!1,h=!1,d=!1;const f=(()=>{let t;const n=()=>{a(t)&&clearTimeout(t)},r=()=>{n(),t=c((()=>{t=null,(()=>{if(l||u)return l=!1,void f();h=!1,e.q(5)})()}),150)};return r.B=n,r})(),_=()=>{s=i(),h&&(d=!0),e.q(4,r()),f()},g=t=>{if(l||0===e.T()||t.ctrlKey)return;const r=i()-s;150>r&&50<r&&(n?t.deltaX:t.deltaY)&&(l=!0)},v=()=>{u=!0,h=d=!1},p=()=>{u=!1,I()&&(h=!0)};return t.addEventListener("scroll",_),t.addEventListener("wheel",g,{passive:!0}),t.addEventListener("touchstart",v,{passive:!0}),t.addEventListener("touchend",p,{passive:!0}),{$:()=>{t.removeEventListener("scroll",_),t.removeEventListener("wheel",g),t.removeEventListener("touchstart",v),t.removeEventListener("touchend",p),f.B()},j:()=>{const[t,n]=e.J();if(t)return o(t,d),d=!1,n}}},W=(e,t)=>{let n,r,o;const i=t?"scrollLeft":"scrollTop",s=t?"overflowX":"overflowY",l=async(r,s)=>{if(!n)return void h((()=>l(r,s)));o&&o();const u=()=>{let t;return[new Promise(((e,n)=>{t=e,c(o=n,150)})),e.W(2,(()=>{t&&t()}))]};if(s&&R()){for(;e.q(7,r()),e.I();){const[e,t]=u();try{await e}catch(e){return}finally{t()}}n.scrollTo({[t?"left":"top"]:H(r(),t),behavior:"smooth"})}else for(;;){const[o,s]=u();try{n[i]=H(r(),t),e.q(6),await o}catch(e){return}finally{s()}}};return{A(o){n=o,r=J(e,o,t,(()=>H(o[i],t)),((e,n)=>{if(n){const e=o.style,t=e[s];e[s]="hidden",c((()=>{e[s]=t}))}o[i]+=H(e,t)}))},$(){r&&r.$()},D(e){l((()=>e))},L(t){t+=e.M(),l((()=>t))},P(t,{align:n,smooth:r}={}){if(t=u(t,0,e.C()-1),"nearest"===n){const r=e.R(t),o=e.M();if(r<o)n="start";else{if(!(r+e.k(t)>o+e._()))return;n="end"}}l((()=>e.O()+("end"===n?e.R(t)+e.k(t)-e._():"center"===n?e.R(t)+(e.k(t)-e._())/2:e.R(t))),r)},j:()=>{r&&r.j()&&o&&o()}}},q=(e,t)=>{let n;return{A(r){const o=t?"scrollX":"scrollY",i=y(r),s=x(i),l=i.body,c=(e,t,n,r=0)=>{const o=n?"offsetLeft":"offsetTop",i=r+(n&&z()?s.innerWidth-e[o]-e.offsetWidth:e[o]),l=e.offsetParent;return e!==t&&l?c(l,t,n,i):i};n=J(e,s,t,(()=>H(s[o],t)-c(r,l,t)),(e=>{s.scrollBy(t?H(e,t):0,t?0:e)}))},$(){n&&n.$()},j:()=>{n&&n.j()}}},B="current",$=(e,t)=>{if(l(e))for(const n of e)$(n,t);else a(e)&&"boolean"!=typeof e&&t.push(e)},j=(e,t)=>{const n=e.key;return a(n)?n:"_"+t},A=e=>{const n=t.useRef();return n[B]||(n[B]=e())},D=e=>{const n=t.useRef(e);return E((()=>{n[B]=e}),[e]),n},L=e=>{let t;return{A(n){(t||(t=new(x(y(n)).ResizeObserver)(e))).observe(n)},X(e){t.unobserve(e)},$(){t&&t.disconnect()}}},P=(e,t)=>{let n;const r=t?"width":"height",o=new WeakMap,i=L((t=>{const i=[];for(const{target:s,contentRect:l}of t)if(s.offsetParent)if(s===n)e.q(2,l[r]);else{const e=o.get(s);a(e)&&i.push([e,l[r]])}i.length&&e.q(1,i)}));return{Y(e){i.A(n=e)},N:(e,t)=>(o.set(e,t),i.A(e),()=>{o.delete(e),i.X(e)}),$:i.$}},X=(e,t)=>{const n=t?"width":"height",r=t?"innerWidth":"innerHeight",o=new WeakMap,i=L((t=>{const r=[];for(const{target:e,contentRect:i}of t){if(!e.offsetParent)continue;const t=o.get(e);a(t)&&r.push([t,i[n]])}r.length&&e.q(1,r)}));let s;return{Y(t){const n=x(y(t)),o=()=>{e.q(2,n[r])};n.addEventListener("resize",o),o(),s=()=>{n.removeEventListener("resize",o)}},N:(e,t)=>(o.set(e,t),i.A(e),()=>{o.delete(e),i.X(e)}),$(){s&&s(),i.$()}}},Y=(e,t)=>{let n;const r="height",i="width",s=new WeakMap,l=new Set,c=new Set,u=new Map,a=(e,t)=>`${e}-${t}`,h=L((h=>{const d=new Set,f=new Set;for(const{target:o,contentRect:l}of h)if(o.offsetParent)if(o===n)e.q(2,l[r]),t.q(2,l[i]);else{const e=s.get(o);if(e){const[t,n]=e,o=a(t,n),s=u.get(o),c=[l[r],l[i]];let h,_;s?(s[0]!==c[0]&&(h=!0),s[1]!==c[1]&&(_=!0)):h=_=!0,h&&d.add(t),_&&f.add(n),(h||_)&&u.set(o,c)}}if(d.size){const t=[];d.forEach((e=>{let n=0;c.forEach((t=>{const r=u.get(a(e,t));r&&(n=o(n,r[0]))})),n&&t.push([e,n])})),e.q(1,t)}if(f.size){const e=[];f.forEach((t=>{let n=0;l.forEach((e=>{const r=u.get(a(e,t));r&&(n=o(n,r[1]))})),n&&e.push([t,n])})),t.q(1,e)}}));return{Y(e){h.A(n=e)},N:(e,t,n)=>(s.set(e,[t,n]),l.add(t),c.add(n),h.A(e),()=>{s.delete(e),h.X(e)}),$:h.$}},N=t.memo((({U:n,V:r,F:o,G:i,K:s,Z:l,ee:c,te:u})=>{const a=t.useRef(null);E((()=>r(a[B],o)),[o]);const h=t.useMemo((()=>{const e={margin:0,padding:0,position:s&&u?void 0:"absolute",[c?"height":"width"]:"100%",[c?"top":"left"]:0,[c?z()?"right":"left":"top"]:i,visibility:!s||u?"visible":"hidden"};return c&&(e.display="flex"),e}),[i,s,u]);return"string"==typeof l?e.jsx(l,{ref:a,style:h,children:n}):e.jsx(l,{ref:a,style:h,index:o,children:n})})),U=e=>t.useReducer(e.v,void 0,e.v)[1],V=(e,n)=>t.useMemo((()=>{if("function"==typeof e)return[e,n||0];const t=(e=>{const t=[];return $(e,t),t})(e);return[e=>t[e],t.length]}),[e,n]),F=t.forwardRef((({children:r,count:o,overscan:i=4,itemSize:s,shift:l,horizontal:c,cache:u,startMargin:a,endMargin:d,ssrCount:f,as:_="div",item:g="div",scrollRef:v,onScroll:p,onScrollEnd:w,onRangeChange:m},S)=>{const[b,y]=V(r,o),x=t.useRef(null),z=t.useRef(!!f),I=D(p),R=D(w),[T,H,J,q]=A((()=>{const e=!!c,t=O(y,s,f,u,!s,a,d);return[t,P(t,e),W(t,e),e]}));y!==T.C()&&T.q(3,[y,l]);const $=U(T),[L,X]=T.m(),Y=T.T(),F=T.H(),G=T.h(),K=[];E((()=>{z[B]=!1;const e=T.W(3,(e=>{e?n.flushSync($):$()})),t=T.W(4,(()=>{I[B]&&I[B](T.M())})),r=T.W(8,(()=>{R[B]&&R[B]()})),o=e=>{H.Y(e),J.A(e)};return v?h((()=>o(v[B]))):o(x[B].parentElement),()=>{e(),t(),r(),H.$(),J.$()}}),[]),E((()=>{J.j()}),[F]),t.useEffect((()=>{m&&m(L,X)}),[L,X]),t.useImperativeHandle(S,(()=>({get cache(){return T.p()},get scrollOffset(){return T.M()},get scrollSize(){return k(T)},get viewportSize(){return T._()},scrollToIndex:J.P,scrollTo:J.D,scrollBy:J.L})),[]);for(let t=C(L,i,Y),n=M(X,i,Y,y);t<=n;t++){const n=b(t);K.push(e.jsx(N,{V:H.N,F:t,G:T.R(t),K:T.S(t),Z:g,U:n,ee:q,te:z[B]},j(n,t)))}return e.jsx(_,{ref:x,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:q?G:"100%",height:q?"100%":G,pointerEvents:0!==Y?"none":"auto"},children:K})})),G=t.forwardRef((({children:n,count:r,overscan:o,itemSize:i,shift:s,horizontal:l,reverse:c,cache:u,ssrCount:a,item:h,onScroll:d,onScrollEnd:f,onRangeChange:_,style:g,...v},p)=>{const w=t.useRef(null),m=c&&!l;let S=e.jsx(F,{ref:p,scrollRef:m?w:void 0,count:r,overscan:o,itemSize:i,shift:s,horizontal:l,cache:u,ssrCount:a,item:h,onScroll:d,onScrollEnd:f,onRangeChange:_,children:n});return m&&(S=e.jsx("div",{style:{overflow:"hidden",visibility:"hidden",display:"flex",flexDirection:"column",justifyContent:"flex-end",minHeight:"100%"},children:S})),e.jsx("div",{ref:w,...v,style:{display:l?"inline-block":"block",[l?"overflowX":"overflowY"]:"auto",contain:"strict",width:"100%",height:"100%",...g},children:S})})),K=t.forwardRef((({children:r,count:o,overscan:i=4,itemSize:s,shift:l,horizontal:c,cache:u,ssrCount:a,as:h="div",item:d="div",onScrollEnd:f,onRangeChange:_},g)=>{const[v,p]=V(r,o),w=t.useRef(null),m=D(f),S=t.useRef(!!a),[b,y,x,z]=A((()=>{const e=!!c,t=O(p,s,a,u,!s);return[t,X(t,e),q(t,e),e]}));p!==b.C()&&b.q(3,[p,l]);const I=U(b),[R,k]=b.m(),T=b.T(),H=b.H(),J=b.h(),W=[];E((()=>{S[B]=!1;const e=b.W(3,(e=>{e?n.flushSync(I):I()})),t=b.W(8,(()=>{m[B]&&m[B]()})),r=w[B];return y.Y(r),x.A(r),()=>{e(),t(),y.$(),x.$()}}),[]),E((()=>{x.j()}),[H]),t.useEffect((()=>{_&&_(R,k)}),[R,k]),t.useImperativeHandle(g,(()=>({get cache(){return b.p()}})),[]);for(let t=C(R,i,T),n=M(k,i,T,p);t<=n;t++){const n=v(t);W.push(e.jsx(N,{V:y.N,F:t,G:b.R(t),K:b.S(t),Z:d,U:n,ee:z,te:S[B]},j(n,t)))}return e.jsx(h,{ref:w,style:{flex:"none",position:"relative",visibility:"hidden",width:z?J:"100%",height:z?"100%":J,pointerEvents:0!==T?"none":"auto"},children:W})})),Q=t.forwardRef((({children:n,attrs:r,width:o,height:i,scrolling:s},l)=>e.jsx("div",{ref:l,...r,children:e.jsx("div",{style:t.useMemo((()=>({position:"relative",visibility:"hidden",width:null!=o?o:"100%",height:null!=i?i:"100%",pointerEvents:s?"none":"auto"})),[o,i,s]),children:n})}))),Z=(e,t)=>`${e}-${t}`,ee=t.memo((({U:n,V:r,ne:o,re:i,oe:s,ie:l,se:c,le:u,K:a,Z:h})=>{const d=t.useRef(null);return E((()=>r.N(d[B],o,i)),[i,o]),e.jsx(h,{ref:d,style:t.useMemo((()=>({display:"grid",margin:0,padding:0,position:"absolute",top:s,[z()?"right":"left"]:l,visibility:a?"hidden":"visible",minHeight:c,minWidth:u})),[s,l,u,c,a]),children:n})})),te=t.forwardRef((({children:r,row:o,col:i,cellHeight:l=40,cellWidth:c=100,overscan:u=2,initialRowCount:a,initialColCount:h,components:{Root:d=Q,Cell:f="div"}={},..._},g)=>{const[v,p,w,m,S]=A((()=>{const e=O(o,l,a),t=O(i,c,h);return[e,t,Y(e,t),W(e,!1),W(t,!0)]}));o!==v.C()&&v.q(3,[o]),i!==p.C()&&p.q(3,[i]);const b=U(v),y=U(p),[x,z]=v.m(),[I,R]=p.m(),T=v.T(),H=p.T(),J=v.H(),q=p.H(),$=k(v),j=k(p),D=t.useRef(null);E((()=>{const e=D[B],t=v.W(3,(e=>{e?n.flushSync(b):b()})),r=p.W(3,(e=>{e?n.flushSync(y):y()}));return w.Y(e),m.A(e),S.A(e),()=>{t(),r(),w.$(),m.$(),S.$()}}),[]),E((()=>{m.j()}),[J]),E((()=>{S.j()}),[q]),t.useImperativeHandle(g,(()=>({get scrollOffset(){return[p.M(),v.M()]},get scrollSize(){return[k(p),k(v)]},get viewportSize(){return[p._(),v._()]},scrollToIndex(e,t){S.P(e),m.P(t)},scrollTo(e,t){S.D(e),m.D(t)},scrollBy(e,t){S.L(e),m.L(t)}})),[]);const L=t.useMemo((()=>{const e=new Map;return(t,n)=>{let o=e.get(Z(t,n));return o||e.set(Z(t,n),o=r({rowIndex:t,colIndex:n})),o}}),[r]),P=C(x,u,T),X=M(z,u,T,o),N=C(I,u,H),V=M(R,u,H,i),F=[];for(let t=P;t<=X;t++)for(let n=N;n<=V;n++)F.push(e.jsx(ee,{V:w,ne:t,re:n,oe:v.R(t),ie:p.R(n),se:v.k(t),le:p.k(n),K:v.S(t)||p.S(n),Z:f,U:L(t,n)},Z(t,n)));return e.jsx(d,{ref:D,width:j,height:$,scrolling:0!==T||0!==H,attrs:t.useMemo((()=>({..._,style:{overflow:"auto",overflowAnchor:"none",flex:"none",contain:"strict",width:"100%",height:"100%",..._.style}})),s(_)),children:F})}));exports.VList=G,exports.Virtualizer=F,exports.WindowVirtualizer=K,exports.experimental_VGrid=te;
//# sourceMappingURL=index.js.map
